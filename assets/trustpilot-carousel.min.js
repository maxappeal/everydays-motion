const trustWidget=document.querySelector(".trustpilot-widget"),trustCarousel=document.querySelector(".trustpilot__carousel"),carouselWrap1=document.createElement("div"),carouselRow1=document.createElement("div"),carouselWrap2=document.createElement("div"),carouselRow2=document.createElement("div");if(trustCarousel&&trustWidget){const t="https://api.trustpilot.com/v1/product-reviews/business-units/"+trustWidget.dataset.businessunitId+"/reviews?apikey=ZuNOmsXgPQ7mBfA5KGpjhCbqUcfAuuXE&sku="+trustWidget.dataset.sku+"&locale=de-DE&perPage=100",s="https://api.trustpilot.com/v1/product-reviews/business-units/"+trustWidget.dataset.businessunitId+"/imported-reviews?apikey=ZuNOmsXgPQ7mBfA5KGpjhCbqUcfAuuXE&sku="+trustWidget.dataset.sku+"&locale=de-DE&perPage=100";Promise.all([fetch(t),fetch(s)]).then((t=>Promise.all(t.map((function(t){return t.json()}))))).then((t=>{let s=[];t.map((t=>{for(const e of t.productReviews)4!=e.stars&&5!=e.stars||s.push(e)}));if(s.length){const t=(t,s)=>`\n          <div class="trustpilot__widget__attribute">\n              <div class="trustpilot__widget__attribute__label">${t}</div>\n              <div class="trustpilot__widget__summary__starswrap">\n                  <div class="trustpilot__widget__summary__stars" style="width: ${10*Math.round(2*s+.4)}%"></div>\n              </div>\n              <div class="trustpilot__widget__summary__rating">\n                  <span class="rating">${s.toFixed(1)}</span> / 5\n              </div>\n          </div>`,e=(s,e,i,r,a=null)=>{const o=new Date(e);let l=`\n          <div class="trustpilot__widget__testimonial">\n              <div class="trustpilot__widget__testimonial__heading">\n                  <div class="trustpilot__widget__testimonial__name">${s}</div>\n                  <div class="trustpilot__widget__testimonial__date">${o.toLocaleString("us-US",{day:"numeric"})} ${o.toLocaleString("de-DE",{month:"long"})}</div>\n              </div>\n              <div class="trustpilot__widget__testimonial__rating">\n                  <div class="trustpilot__widget__summary__starswrap">\n                      <div class="trustpilot__widget__summary__stars" style="width: ${10*Math.round(2*i)}%"></div>\n                  </div>`;if(a){l+='\n                  <div class="trustpilot__widget__testimonial__details">\n                      Mehr Details <span class="arrow"></span>\n                      <div class="more">';for(const s of a)l+=t(s.attributeName,s.rating);l+="\n                      </div>\n                  </div>"}return l+=`\n              </div>\n              <div class="trustpilot__widget__testimonial__text">\n                  ${r}\n              </div>\n              <div class="trustpilot__widget__testimonial__source">\n                  Gesammelt Ã¼ber Trustpilot\n              </div>\n          </div>`,l};for(let t=0;t<4;t++)for(const[t,i]of s.slice(0,6).entries()){const s=i.consumer.displayName||i.consumer.name,r=i.attributeRatings||null;t%2?carouselRow2.innerHTML+=e(s,i.createdAt,i.stars,i.content,r):carouselRow1.innerHTML+=e(s,i.createdAt,i.stars,i.content,r)}carouselRow1.className="trustpilot__carousel__row trustpilot__carousel__row--first",carouselRow2.className="trustpilot__carousel__row trustpilot__carousel__row--second",carouselWrap1.appendChild(carouselRow1),carouselWrap2.appendChild(carouselRow2),carouselWrap1.className="trustpilot__carousel__wrap trustpilot__carousel__wrap--first",carouselWrap2.className="trustpilot__carousel__wrap trustpilot__carousel__wrap--second",trustCarousel.appendChild(carouselWrap1),trustCarousel.appendChild(carouselWrap2)}}))}